<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GALAXIA Launcher</title>

<style>
* { box-sizing: border-box; }
html, body {
  margin: 0;
  height: 100%;
  font-family: "Segoe UI", sans-serif;
  background: radial-gradient(circle at top, #1b1f3b, #05060f);
  color: white;
  overflow: hidden;
}

/* ---------- TOP BAR ---------- */
header {
  height: 64px;
  display: flex;
  align-items: center;
  padding: 0 20px;
  background: rgba(0,0,0,.6);
  gap: 20px;
}
header h1 {
  margin: 0;
  font-size: 24px;
}
#search {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: none;
  outline: none;
  font-size: 15px;
}

/* ---------- LIBRARY ---------- */
#library {
  padding: 20px;
  height: calc(100% - 64px);
  overflow-y: auto;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 20px;
}

.game-card {
  background: rgba(0,0,0,.6);
  border-radius: 14px;
  overflow: hidden;
  cursor: pointer;
  transition: transform .2s, box-shadow .2s;
}
.game-card:hover {
  transform: scale(1.04);
  box-shadow: 0 0 25px rgba(90,120,255,.5);
}
.game-card img {
  width: 100%;
  height: 140px;
  object-fit: cover;
}
.game-card div {
  padding: 12px;
  font-weight: bold;
  text-align: center;
}

/* ---------- PLAYER PAGE ---------- */
#playerPage {
  display: none;
  height: 100%;
  width: 100%;
}
#playerBar {
  height: 52px;
  background: rgba(0,0,0,.85);
  display: flex;
  align-items: center;
  padding: 0 14px;
  justify-content: space-between;
}
#playerBar span {
  font-weight: bold;
}
#playerBar button {
  background: #4b7cff;
  border: none;
  padding: 8px 14px;
  border-radius: 6px;
  color: white;
  cursor: pointer;
}
#gameFrame {
  width: 100%;
  height: calc(100% - 52px);
  border: none;
  background: black;
}

/* ---------- CONTROLLER HUD ---------- */
#controllerStatus {
  position: fixed;
  bottom: 12px;
  right: 16px;
  background: rgba(0,0,0,.7);
  padding: 8px 12px;
  border-radius: 8px;
  font-size: 13px;
}
</style>
</head>

<body>

<header>
  <h1>ðŸŒŒ GALAXIA</h1>
  <input id="search" placeholder="Search games..." oninput="renderGames()">
</header>

<!-- LIBRARY -->
<div id="library"></div>

<!-- PLAYER -->
<div id="playerPage">
  <div id="playerBar">
    <span id="nowPlaying">Playing</span>
    <div>
      <button onclick="requestFullscreen()">Fullscreen</button>
      <button onclick="exitGame()">Exit</button>
    </div>
  </div>
  <iframe id="gameFrame"></iframe>
</div>

<div id="controllerStatus">ðŸŽ® Controller: Not connected</div>

<script>
/* ---------- GAME LIST ---------- */
const games = [
  {
    name: "Krunker.io",
    url: "https://krunker.io/",
    img: "https://i.imgur.com/Mb5WZ5P.jpg"
  },
  {
    name: "War Brokers",
    url: "https://warbrokers.io/game/",
    img: "https://i.imgur.com/1G4nM1Q.jpg"
  },
  {
    name: "Mini Royale",
    url: "https://miniroyale.io/",
    img: "https://i.imgur.com/Zn6F8yJ.jpg"
  },
  {
    name: "Plasma Forks",
    url: "https://astronoit.github.io/FPS-GAME/",
    img: "https://i.imgur.com/1hZcJgD.jpg"
  },
  {
    name: "BananaBread",
    url: "https://gamearians.github.io/games/bananabread/",
    img: "https://i.imgur.com/q5M0TjP.jpg"
  },
  {
    name: "Shell Shockers",
    url: "https://shellshockers.io/",
    img: "https://i.imgur.com/b8GZQqE.jpg"
  },
  {
    name: "FPS Reflex",
    url: "https://yagizayer.github.io/Fps_Reflex_Game_v03/",
    img: "https://i.imgur.com/5v2R9JX.jpg"
  },
  {
    name: "AssaultCube",
    url: "https://gamearians.github.io/games/AssaultCube/",
    img: "https://i.imgur.com/QGZC3KM.jpg"
  },
  {
    name: "Tank Trouble 2",
    url: "https://github.io-games.gitlab.io/tank-trouble-2/",
    img: "https://i.imgur.com/efh5L9E.jpg"
  },
  {
    name: "Build Royale",
    url: "https://cpsgames.org/game/build-royale",
    img: "https://i.imgur.com/zxJ8RZp.jpg"
  }
];

/* ---------- RENDER ---------- */
function renderGames() {
  const q = search.value.toLowerCase();
  library.innerHTML = "";
  games.filter(g => g.name.toLowerCase().includes(q)).forEach(game => {
    const card = document.createElement("div");
    card.className = "game-card";
    card.innerHTML = `<img src="${game.img}"><div>${game.name}</div>`;
    card.onclick = () => launchGame(game);
    library.appendChild(card);
  });
}
renderGames();

/* ---------- LAUNCH / EXIT ---------- */
function launchGame(game) {
  library.style.display = "none";
  playerPage.style.display = "block";
  nowPlaying.textContent = game.name;
  gameFrame.src = game.url;
}

function exitGame() {
  gameFrame.src = "";
  playerPage.style.display = "none";
  library.style.display = "grid";
}

/* ---------- FULLSCREEN + POINTER ---------- */
function requestFullscreen() {
  gameFrame.requestFullscreen?.();
  gameFrame.contentWindow?.focus();
}

/* ---------- CONTROLLER SUPPORT ---------- */
function updateGamepad() {
  const pads = navigator.getGamepads();
  const connected = [...pads].some(p => p);
  controllerStatus.textContent = connected
    ? "ðŸŽ® Controller connected"
    : "ðŸŽ® Controller not connected";
  requestAnimationFrame(updateGamepad);
}
updateGamepad();
</script>

</body>
</html>
